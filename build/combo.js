!function(a,b){function c(b){function d(){e=!0,i&&i.forEach(function(a){a&&a()})}var e=!1;Object.defineProperty(this,"isRequested",{get:function(){return e}});var f,i=[],j=!1;this.request=function(){if(!e){var c=arguments;return j=!1,f=g(function(){j||(b.apply(a,c),d())}),this}},this.cancel=function(){f&&(j=!0,h(f))},this.then=function(a){return e?a&&a():i.push(a),this},this.clone=function(){return new c(b)}}function d(a,d,e,g){"function"==typeof g&&(g={0:g});for(var h=a/f,i=1/h,j=[],k=Object.keys(g).map(function(a){return parseInt(a)}),l=0;h>l;l++){var m=k[0],n=i*l;if(null!=m&&100*n>=m){var o=g[""+m];o instanceof c||(o=new c(o)),j.push(o),k.shift()}else j.length&&j.push(j[j.length-1].clone())}var p;"string"==typeof d||d instanceof Array?b.cubicbezier?"string"==typeof d?b.cubicbezier[d]&&(p=b.cubicbezier[d]):d instanceof Array&&4===d.length&&(p=b.cubicbezier.apply(b.cubicbezier,d)):console.error("require lib.cubicbezier"):"function"==typeof d&&(p=d),p||console.error("unexcept timing function");var q,r=!1,s=0,t=0;this.play=function(){function a(){r=!1,u&&u()}function b(){var a=i*(t+1).toFixed(10);q=j[t],q.request(a.toFixed(10),d(a).toFixed(10)),q.then(function(){t++,c()})}function c(){r&&(t===j.length?a():b())}if(!r)return r=!0,s=setTimeout(function(){s=0,c()},!t&&e||0),this},this.stop=function(){return r?(r=!1,s&&(clearTimeout(s),s=0),q&&q.cancel(),this):void 0};var u;this.onend=function(a){u=a}}var e=60,f=1e3/e,g=window.requestAnimationFrame||window.msRequestAnimationFrame||window.webkitRequestAnimationFrame||window.mozkitRequestAnimationFrame||function(a){return setTimeout(a,f)},h=window.cancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||function(a){clearTimeout(a)};b.animation=d,b.animation.Frame=c,b.animation.requestFrame=function(a){var b=new c(a);return b.request(),b}}(window,window.lib||(window.lib={}));!function(a,b){function c(a,b,c,d){function e(a){return(3*k*a+2*l)*a+m}function f(a){return((k*a+l)*a+m)*a}function g(a){return((n*a+o)*a+p)*a}function h(a){for(var b,c,d=a,g=0;8>g;g++){if(c=f(d)-a,Math.abs(c)<j)return d;if(b=e(d),Math.abs(b)<j)break;d-=c/b}var h=1,i=0;for(d=a;h>i;){if(c=f(d)-a,Math.abs(c)<j)return d;c>0?h=d:i=d,d=(h+i)/2}return d}function i(a){return g(h(a))}var j=1e-6,k=3*a-3*c+1,l=3*c-6*a,m=3*a,n=3*b-3*d+1,o=3*d-6*b,p=3*b;return i}b.cubicbezier=c,b.cubicbezier.liner=c(0,0,1,1),b.cubicbezier.ease=c(.25,.1,.25,1),b.cubicbezier.easeIn=c(.42,0,1,1),b.cubicbezier.easeOut=c(0,0,.58,1),b.cubicbezier.easeInOut=c(.42,0,.58,1)}(window,window.lib||(window.lib={}));!function(a,b){function c(a,b){function c(){r||(r=!0,l=a.querySelector("canvas"),m=l.getContext("2d"),p=.13373158940994154,q=.06015722128359704);var b=l.getBoundingClientRect();(l.width!==b.width*s||l.height!==b.height*s)&&(l.width=b.width*s,l.height=b.height*s,n=b.width/2,o=n/15)}function d(){if("spin"===t){c();var a=0;lib.animation.requestFrame(function(){"spin"===t&&(m.clearRect(0,0,l.width,l.height),m.beginPath(),m.arc(n*s,n*s,(n-o)*s,-p-Math.PI/2-a,-p-Math.PI/2-100*q-a,!0),m.lineWidth=o*s,m.strokeStyle="#ff5000",m.stroke(),m.closePath(),a+=4*Math.PI/60,lib.animation.requestFrame(arguments.callee))})}}function g(a){"draw"===t&&(c(),a>100&&(a=100),m.clearRect(0,0,l.width*s,l.height*s),m.beginPath(),m.arc(n*s,n*s,(n-o)*s,-p-Math.PI/2,-p-Math.PI/2-q*a,!0),m.lineWidth=o*s,m.strokeStyle="#ff5000",m.stroke(),m.closePath())}function h(){var b=a.querySelector(".arrow");b.style.cssText="display: block"}function i(){var b=a.querySelector(".arrow");b.style[e+"Transform"]="scale(1)",b.style.opacity="1";var c=new lib.animation(400,lib.cubicbezier.easeIn,0,function(a,c){b.style[e+"Transform"]="scale("+(1-.5*c)+")",b.style.opacity=1-c+""});c.onend(function(){b.style.cssText="display:none"}),c.play()}var j=Date.now()+"-"+ ++f,k=document.createDocumentFragment();1!==arguments.length||arguments[0]instanceof HTMLElement||(b=arguments[0],a=null),a||(a=document.createElement("div"),k.appendChild(a)),b=b||{},a.setAttribute("data-ctrl-name","loading"),a.setAttribute("data-ctrl-id",j),a.innerHTML='<div><canvas></canvas><span class="arrow"></span></div><span class="text"></span>';var l,m,n,o,p,q,r=!1,s=2;Object.defineProperty(this,"bgcolor",{get:function(){return a.style.backgroundColor},set:function(b){if("string"!=typeof b)throw new Error("Non expected value");a.style.backgroundColor=b}}),Object.defineProperty(this,"text",{get:function(){return a.querySelector(".text").innerText},set:function(b){if("string"!=typeof b)throw new Error("Non expected value");var c=a.querySelector("div"),d=a.querySelector(".text");b?(a.style[e+"BoxPack"]="",c.style.marginLeft="",d.style.display="block",d.innerText=b):(a.style[e+"BoxPack"]="center",c.style.marginLeft="0",d.style.display="none",d.innerText="")}});var t="";Object.defineProperty(this,"mode",{get:function(){return t},set:function(a){if(!a&&"string"!=typeof a&&["draw","spin"].indexOf(a)<0)throw new Error("Non expected value");t=a,"spin"===t?(v&&i(),d()):"draw"===t&&(h(),g(0))}});var u=0;Object.defineProperty(this,"per",{get:function(){return u},set:function(a){if("draw"!==t)throw new Error('only work under "draw" mode');if(!a&&"number"!=typeof a&&0>a&&a>100)throw new Error("Non expected value");g(a)}});var v="";Object.defineProperty(this,"arrowDirection",{get:function(){return v},set:function(b){if(!b&&"string"!=typeof b&&["up","down",""].indexOf(b)<0)throw new Error("Non expected value");v=b,a.querySelector(".arrow").className="arrow "+b}}),this.remove=function(){a.parentNode&&a.parentNode.removeChild(a)},this.element=a,this.root=k}var d=a.navigator.userAgent.match(/IEMobile\/([\d\.]+)/),e=d?"ms":"webkit",f=0;b.loading=c}(window,window.ctrl||(window.ctrl={}));!function(){var a='[data-ctrl-name=loading]{width:100%;height:100%;display:-ms-flexbox;-ms-flex-align:center;-ms-flex-pack:center;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center}[data-ctrl-name=loading] div{position:relative}[data-ctrl-name=loading] .arrow{display:none;position:absolute;left:0;top:0;width:100%;height:100%;background-position:center center;background-repeat:no-repeat;background-size:contain}[data-ctrl-name=loading] .arrow.down{display:block;background-image:url(http://gtms03.alicdn.com/tps/i3/TB180mKFVXXXXXtXVXXmqjTHFXX-60-60.png)}[data-ctrl-name=loading] .arrow.up{display:block;background-image:url(http://gtms04.alicdn.com/tps/i4/TB1ECWQFVXXXXaBXpXXmqjTHFXX-60-60.png)}[data-ctrl-name=loading] .text{display:block;color:#999;margin-left:.3rem}[data-dpr="1"] [data-ctrl-name=loading] div,[data-dpr="1"] [data-ctrl-name=loading] canvas{width:30px;height:30px}[data-dpr="2"] [data-ctrl-name=loading] div,[data-dpr="2"] [data-ctrl-name=loading] canvas{width:60px;height:60px}[data-dpr="3"] [data-ctrl-name=loading] div,[data-dpr="3"] [data-ctrl-name=loading] canvas{width:90px;height:90px}[data-dpr="1"] [data-ctrl-name=loading] .text{height:30px;line-height:30px;font-size:12px}[data-dpr="2"] [data-ctrl-name=loading] .text{height:60px;line-height:60px;font-size:24px}[data-dpr="3"] [data-ctrl-name=loading] .text{height:90px;line-height:90px;font-size:36px}',b=document.createElement("style");if(document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet)b.styleSheet.disabled||(b.styleSheet.cssText=a);else try{b.innerHTML=a}catch(c){b.innerText=a}}();